<view class="container">
  <view class="header">
    <text class="title">分析结果</text>
    <text class="subtitle">您的AI个性分析报告</text>
  </view>
  
  <view class="result-card" wx:if="{{result}}">
    <view class="user-info">
      <text class="user-name">{{result.userName}}</text>
      <text class="birth-info">{{result.birthDate}} {{result.birthTime}}</text>
    </view>
    
    <view class="basic-info">
      <view class="info-item">
        <text class="info-label">农历</text>
        <text class="info-value">{{result.lunar}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">生肖</text>
        <text class="info-value">{{result.shengXiao}}</text>
      </view>
      <view class="info-item" wx:if="{{result.ganZhi}}">
        <text class="info-label">干支</text>
        <text class="info-value">{{result.ganZhi}}</text>
      </view>
      <view class="info-item" wx:if="{{result.wuXingLack}}">
        <text class="info-label">五行缺失</text>
        <text class="info-value">{{result.wuXingLack}}</text>
      </view>
    </view>
    
    <view class="analysis-section">
      <text class="analysis-title">🤖 AI分析报告</text>
      <text class="analysis-content">{{result.aiAnalysis}}</text>
    </view>
    
    <view class="recommend-section" wx:if="{{result.wuXingLack}}">
      <button class="recommend-btn" bindtap="getRecommendNames" disabled="{{loading}}">
        {{loading ? '获取中...' : '获取AI推荐姓名'}}
      </button>
    </view>
    
    <view class="names-section" wx:if="{{showRecommendNames && recommendedNames.length > 0}}">
      <text class="names-title">💎 AI推荐姓名</text>
      <view class="names-list">
        <text class="name-item" wx:for="{{recommendedNames}}" wx:key="index">{{item}}</text>
      </view>
    </view>
  </view>
  
  <view class="no-result" wx:else>
    <text class="no-result-text">暂无分析结果</text>
    <button class="back-btn" bindtap="goHome">返回首页</button>
  </view>
  
  <view class="action-buttons" wx:if="{{result}}">
    <button class="action-btn share-btn" bindtap="shareResult">
      <text class="btn-icon">📤</text>
      <text class="btn-text">分享</text>
    </button>
    
    <button class="action-btn history-btn" bindtap="viewHistory">
      <text class="btn-icon">📝</text>
      <text class="btn-text">历史</text>
    </button>
    
    <button class="action-btn reanalyze-btn" bindtap="reAnalysis">
      <text class="btn-icon">🔄</text>
      <text class="btn-text">重新分析</text>
    </button>
  </view>
</view> 